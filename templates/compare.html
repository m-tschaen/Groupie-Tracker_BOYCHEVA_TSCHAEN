<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Comparer des Artistes</title>
        <link rel="stylesheet" href="/static/css/style.css">
        <link rel="stylesheet" href="/static/css/compare.css">
        <link rel="stylesheet" href="/static/css/dark-theme.css">
    </head>
    <script src="/static/js/theme-toggle.js"></script>  
    <body>
        <div class="container">
            <aside class="sidebar">
                <div class="sidebar-logo">
                    <img src="/static/img/light_logo.png" alt="Groupie Tracker">
                </div>
                <nav class="sidebar-nav">
                    <a href="/tracker">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                            </svg>
                        </span>
                        <span>Accueil</span>
                    </a>
                    <a href="/locations">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </span>
                        <span>Lieux</span>
                    </a>
                    <a href="/compare" class="active">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                            </svg>
                        </span>
                        <span>Comparer</span>
                    </a>
                    <a href="/favorites">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"/>
                            </svg>
                        </span>
                        <span>Favoris</span>
                    </a>
                </nav>
            </aside>

            <main class="main-content">
                <div class="compare-header">
                    <h1>Comparaison d'Artistes</h1>
                    <p>Sélectionnez deux artistes pour les comparer</p>
                </div>

                <form action="/compare" method="GET" class="compare-form">
                    <div class="select-container">
                        <div class="select-box">
                            <label>Premier artiste</label>
                            <select name="artist1" required>
                                <option value="">Choisir un artiste...</option>
                                {{range .AllArtists}}
                                    <option value="{{.Id}}" {{if $.Artist1}}{{if eq $.Artist1.Id .Id}}selected{{end}}{{end}}>{{.Name}}</option>
                                {{end}}
                            </select>
                        </div>
                        <div class="vs-badge">VS</div>
                        <div class="select-box">
                            <label>Deuxième artiste</label>
                            <select name="artist2" required>
                                <option value="">Choisir un artiste...</option>
                                {{range .AllArtists}}
                                    <option value="{{.Id}}" {{if $.Artist2}}{{if eq $.Artist2.Id .Id}}selected{{end}}{{end}}>{{.Name}}</option>
                                {{end}}
                            </select>
                        </div>
                    </div>
                </div>
                <button type="submit" class="compare-btn">Comparer</button>
            </form>

            {{if and .Artist1 .Artist2}}
            <div class="comparison-grid">
                <div class="artist-compare-card">
                    <img src="{{.Artist1.Image}}" alt="{{.Artist1.Name}}" class="artist-compare-img">
                    <h2>{{.Artist1.Name}}</h2>
                    
                    <div class="compare-info">
                        <div class="info-item">
                            <span class="label">Année de création</span>
                            <span class="value">{{.Artist1.CreationDate}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Premier album</span>
                            <span class="value">{{.Artist1.FirstAlbum}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Nombre de membres</span>
                            <span class="value">{{len .Artist1.Members}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Nombre de concerts</span>
                            <span class="value">{{len .Relations1}}</span>
                        </div>
                    </div>

                    <div class="members-section">
                        <h3>Membres</h3>
                        <ul>
                            {{range .Artist1.Members}}
                                <li>{{.}}</li>
                            {{end}}
                        </ul>
                    </div>

                    <div class="concerts-section">
                        <h3>Lieux de concerts</h3>
                        <div class="concerts-list">
                            {{range .Relations1}}
                                <div class="concert-location">{{.Place}}</div>
                            {{end}}
                        </div>
                    </div>
                </div>

                <div class="artist-compare-card">
                    <img src="{{.Artist2.Image}}" alt="{{.Artist2.Name}}" class="artist-compare-img">
                    <h2>{{.Artist2.Name}}</h2>
                    
                    <div class="compare-info">
                        <div class="info-item">
                            <span class="label">Année de création</span>
                            <span class="value">{{.Artist2.CreationDate}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Premier album</span>
                            <span class="value">{{.Artist2.FirstAlbum}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Nombre de membres</span>
                            <span class="value">{{len .Artist2.Members}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Nombre de concerts</span>
                            <span class="value">{{len .Relations2}}</span>
                        </div>
                    </div>

                    <div class="members-section">
                        <h3>Membres</h3>
                        <ul>
                            {{range .Artist2.Members}}
                                <li>{{.}}</li>
                            {{end}}
                        </ul>
                    </div>

                    <div class="concerts-section">
                        <h3>Lieux de concerts</h3>
                        <div class="concerts-list">
                            {{range .Relations2}}
                                <div class="concert-location">{{.Place}}</div>
                            {{end}}
                        </div>
                    </div>
                </div>
            </div>
            {{end}}
        </main>
    </div>
</body>
</html>