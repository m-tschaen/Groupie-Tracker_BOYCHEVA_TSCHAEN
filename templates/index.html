<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Groupie Tracker</title>
        <link rel="stylesheet" href="/static/css/style.css">
        <link rel="stylesheet" href="/static/css/dark-theme.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <script src="/static/js/theme-toggle.js"></script>
    <body>
        <div class="container">
            <aside class="sidebar">
                <div class="sidebar-logo">
                    <img src="/static/img/light_logo.png" alt="Groupie Tracker">
                </div>
                <nav class="sidebar-nav">
                    <a href="/tracker">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                            </svg>
                        </span>
                        <span>Accueil</span>
                    </a>
                    <a href="/locations">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </span>
                        <span>Lieux</span>
                    </a>
                    <a href="/compare">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                            </svg>
                        </span>
                        <span>Comparer</span>
                    </a>
                    <a href="/favorites">
                        <span class="icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"/>
                            </svg>
                        </span>
                        <span>Favoris</span>
                    </a>
                </nav>
                <div class="line"></div>
                <div class="sidebar-section-title">Artistes populaires</div>
                <div class="sidebar-artists">
                    <a href="/artist/1" class="sidebar-artist">
                        <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100" alt="Queen">
                        <div class="sidebar-artist-info">
                            <h4>Queen</h4>
                            <p>7 membres</p>
                        </div>
                    </a>
                    <a href="/artist/2" class="sidebar-artist">
                        <img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=100" alt="SOJA">
                        <div class="sidebar-artist-info">
                            <h4>SOJA</h4>
                            <p>8 membres</p>
                        </div>
                    </a>
                    <a href="/artist/3" class="sidebar-artist">
                        <img src="https://images.unsplash.com/photo-1501386761578-eac5c94b800a?w=100" alt="Pink Floyd">
                        <div class="sidebar-artist-info">
                            <h4>Pink Floyd</h4>
                            <p>4 membres</p>
                        </div>
                    </a>
                </div>
            </aside> 
            <main class="main-content">
                <div class="search-bar-container">
                    <div class="top-controls">
                        <form action="/tracker" method="GET" class="search-form">
                            <input type="text" name="query" list="suggestions" placeholder="Rechercher un artiste..." class="search-input">
                            <datalist id="suggestions">
                                {{range .Artists}}
                                    <option value="{{.Name}}">Artist</option>
                                {{end}}
                            </datalist>
                            <button type="submit" class="search-btn">Search</button>
                        </form>
                        <details class="filters-dd">
                            <summary class="filters-trigger">Filtres</summary>
                            <div class="filters-panel">
                                <form action="/tracker" method="GET">
                                    <input type="hidden" name="query" value="{{.Query}}">
                                    <div class="filter-label">Années de création</div>
                                    <div class="filters-row">
                                        <input type="number" name="minYear" class="filter-input" placeholder="Min" value="{{.MinYear}}">
                                        <input type="number" name="maxYear" class="filter-input" placeholder="Max" value="{{.MaxYear}}">
                                    </div>
                                    <div class="filter-group">
                                        <div class="filter-label">Nombre de membres</div>
                                        <div class="members-grid">
                                            {{range $i := .MemberOptions}}
                                                <label class="check">
                                                    <input type="checkbox" name="members" value="{{$i}}" {{if (index $.SelectedMembers $i)}}checked{{end}}>
                                                    <span>{{$i}}</span>
                                                </label>
                                            {{end}}
                                        </div>
                                    </div>
                                    <div class="filters-actions">
                                        <button type="submit" class="apply-btn">Apply</button>
                                        <a href="/tracker" class="reset-btn">Reset</a>
                                    </div>
                                </form>
                            </div>
                        </details>
                    </div>
                </div>
                <div class="artists-grid">
                    {{range .Artists}}
                        <div class="artist-card-wrapper">
                            <a class="artist-card" href="/artist/{{.Id}}">
                                <img src="{{.Image}}" alt="{{.Name}}">
                                <h3>{{.Name}}</h3>
                                <p>{{len .Members}} membres</p>
                                <p>{{.CreationDate}}</p>
                            </a>
                            <a href="/favorite?id={{.Id}}&back=tracker" class="fav-icon-btn" aria-label="Favori">
                                {{if index $.Favorites .Id}}
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="fav-icon active">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                                    </svg>
                                {{else}}
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="fav-icon">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                                    </svg>
                                {{end}}
                            </a>
                        </div>
                    {{end}}
                </div>
            </main>
        </div> 
    </body>
</html>